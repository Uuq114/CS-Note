# eBPF

BPF（Berkeley Packet Filter），原本是为了提升网络包过滤工具的性能，经过不断更新，已成为更通用的执行引擎。

通过 BPF，可以在各种内核事件、应用事件（如磁盘 IO）发生时运行一段小程序。BPF 主要应用领域是网络、可观测性、安全。BPF 由指令集、存储对象、辅助函数组成。因为采用了虚拟指令集规范，因此可以看作是一种虚拟机实现。

一些术语：

- 跟踪（tracing）：基于事件的记录，包括原始事件和事件元数据。例如 `strace`，可以记录系统调用（system call）事件信息
- 采样（sampling）：观测并描绘目标的大致图像，也称为生成性能剖析样本或 profiling。优点是开销比tracing小，缺点是会遗漏事件、只提供大致画像。例如 `profile`，基于计时器对运行中的代码定时采样
- 可观测性（observability）